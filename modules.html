

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module API &mdash; py_trees 0.5.8 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="py_trees 0.5.8 documentation" href="index.html"/>
        <link rel="next" title="Changelog" href="changelog.html"/>
        <link rel="prev" title="Programs" href="programs.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> py_trees
          

          
          </a>

          
            
            
              <div class="version">
                0.5.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
                <p class="caption"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="behaviours.html">Behaviours</a></li>
<li class="toctree-l1"><a class="reference internal" href="composites.html">Composites</a></li>
<li class="toctree-l1"><a class="reference internal" href="blackboards.html">Blackboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="trees.html">Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="the_crazy_hospital.html">Surviving the Crazy Hospital</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="programs.html">Programs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Module API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees">py_trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.behaviour">py_trees.behaviour</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.behaviours">py_trees.behaviours</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.blackboard">py_trees.blackboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.common">py_trees.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.composites">py_trees.composites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.console">py_trees.console</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.display">py_trees.display</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.meta">py_trees.meta</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.timers">py_trees.timers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.trees">py_trees.trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.utilities">py_trees.utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_trees.visitors">py_trees.visitors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
    <a href="genindex.html">Index</a>
    <a href="py-modindex.html">Module Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">py_trees</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Module API</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/modules.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-api">
<span id="modules-section-label"></span><h1>Module API<a class="headerlink" href="#module-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-py_trees">
<span id="py-trees"></span><h2>py_trees<a class="headerlink" href="#module-py_trees" title="Permalink to this headline">¶</a></h2>
<p>This is the top-level namespace of the py_trees package.</p>
</div>
<div class="section" id="module-py_trees.behaviour">
<span id="py-trees-behaviour"></span><h2>py_trees.behaviour<a class="headerlink" href="#module-py_trees.behaviour" title="Permalink to this headline">¶</a></h2>
<p>The core behaviour template. All behaviours, standalone and composite, inherit
from this class.</p>
<dl class="class">
<dt id="py_trees.behaviour.Behaviour">
<em class="property">class </em><code class="descclassname">py_trees.behaviour.</code><code class="descname">Behaviour</code><span class="sig-paren">(</span><em>name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Defines the basic properties and methods required of a node in a
behaviour tree.</p>
<p>Uses all the whizbang tricks from coroutines and generators to do this
as optimally as you may in python. When implementing your own behaviour,
subclass this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the behaviour name</li>
<li><strong>*args</strong> &#8211; variable length argument list.</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the behaviour name</li>
<li><strong>status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the behaviour status (<a class="reference internal" href="#py_trees.common.Status.INVALID" title="py_trees.common.Status.INVALID"><code class="xref py py-data docutils literal"><span class="pre">INVALID</span></code></a>, <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>, <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a>, <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>)</li>
<li><strong>parent</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; a <a class="reference internal" href="#py_trees.composites.Composite" title="py_trees.composites.Composite"><code class="xref py py-class docutils literal"><span class="pre">Composite</span></code></a> instance if nested in a tree, otherwise None</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; empty for regular behaviours, populated for composites</li>
<li><strong>feedback_message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; a simple message used to notify of significant happenings</li>
<li><strong>blackbox_level</strong> (<a class="reference internal" href="#py_trees.common.BlackBoxLevel" title="py_trees.common.BlackBoxLevel"><code class="xref py py-class docutils literal"><span class="pre">BlackBoxLevel</span></code></a>) &#8211; a helper variable for dot graphs and runtime gui&#8217;s to collapse/explode entire subtrees dependent upon the blackbox level.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="behaviours.html#skeleton-behaviour-include"><span>Skeleton Behaviour Template</span></a></li>
<li><a class="reference internal" href="demos.html#py-trees-demo-behaviour-lifecycle-program"><span>The Lifecycle Demo</span></a></li>
<li><a class="reference internal" href="demos.html#py-trees-demo-action-behaviour-program"><span>The Action Behaviour Demo</span></a></li>
</ul>
</div>
<dl class="method">
<dt id="py_trees.behaviour.Behaviour.has_parent_with_instance_type">
<code class="descname">has_parent_with_instance_type</code><span class="sig-paren">(</span><em>instance_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.has_parent_with_instance_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.has_parent_with_instance_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves up through this behaviour&#8217;s parents looking for
a behaviour with the same instance type as that specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>instance_type</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; instance type of the parent to match</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether a parent was found or not</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.has_parent_with_name">
<code class="descname">has_parent_with_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.has_parent_with_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.has_parent_with_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches through this behaviour&#8217;s parents, and their parents, looking for
a behaviour with the same name as that specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the parent to match, can be a regular expression</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether a parent was found or not</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.initialise" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">User Customisable Callback</p>
</div>
<p>Subclasses may override this method to perform any necessary initialising/clearing/resetting
of variables when when preparing to enter this behaviour if it was not previously
<a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>. i.e. Expect this to trigger more than once!</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.iterate">
<code class="descname">iterate</code><span class="sig-paren">(</span><em>direct_descendants=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.iterate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.iterate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator that provides iteration over this behaviour and all its children.
To traverse the entire tree:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">my_behaviour</span><span class="o">.</span><span class="n">iterate</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Name: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>direct_descendants</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; only yield children one step away from this behaviour.</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
one of it&#8217;s children</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses may override this method to do any one-time delayed construction that
is necessary for runtime. This is best done here rather than in the constructor
so that trees can be instantiated on the fly without any severe runtime requirements
(e.g. a hardware sensor) on any pc to produce visualisations such as dot graphs.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">User Customisable Callback</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<code class="xref py py-obj docutils literal"><span class="pre">float</span></code>) &#8211; time to wait (0.0 is blocking forever)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether it timed out trying to setup</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>new_status=&lt;Status.INVALID: 'INVALID'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.stop" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the behaviour is transitioning to this new status</td>
</tr>
</tbody>
</table>
<p>This calls the user defined <a class="reference internal" href="#py_trees.behaviour.Behaviour.terminate" title="py_trees.behaviour.Behaviour.terminate"><code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code></a> method and also resets the
generator. It will finally set the new status once the user&#8217;s <a class="reference internal" href="#py_trees.behaviour.Behaviour.terminate" title="py_trees.behaviour.Behaviour.terminate"><code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code></a>
function has been called.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not use this method, override <a class="reference internal" href="#py_trees.behaviour.Behaviour.terminate" title="py_trees.behaviour.Behaviour.terminate"><code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><em>new_status</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.terminate" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">User Customisable Callback</p>
</div>
<p>Subclasses may override this method to clean up. It will be triggered when a behaviour either
finishes execution (switching from <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>
to <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> || <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>)
or it got interrupted by a higher priority branch (switching to
<a class="reference internal" href="#py_trees.common.Status.INVALID" title="py_trees.common.Status.INVALID"><code class="xref py py-data docutils literal"><span class="pre">INVALID</span></code></a>). Remember that the <a class="reference internal" href="#py_trees.behaviour.Behaviour.initialise" title="py_trees.behaviour.Behaviour.initialise"><code class="xref py py-meth docutils literal"><span class="pre">initialise()</span></code></a> method
will handle resetting of variables before re-entry, so this method is about
disabling resources until this behaviour&#8217;s next tick. This could be a indeterminably
long time. e.g.</p>
<ul class="simple">
<li>cancel an external action that got started</li>
<li>shut down any tempoarary communication handles</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the behaviour is transitioning to this new status</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not set <cite>self.status = new_status</cite> here, that is automatically handled
by the <a class="reference internal" href="#py_trees.behaviour.Behaviour.stop" title="py_trees.behaviour.Behaviour.stop"><code class="xref py py-meth docutils literal"><span class="pre">stop()</span></code></a> method. Use the argument purely for introspection purposes (e.g.
comparing the current state in <cite>self.status</cite> with the state it will transition to in
<cite>new_status</cite>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a generator that can be used by an iterator on
an entire behaviour tree. It handles the logic for deciding when to
call the user&#8217;s <a class="reference internal" href="#py_trees.behaviour.Behaviour.initialise" title="py_trees.behaviour.Behaviour.initialise"><code class="xref py py-meth docutils literal"><span class="pre">initialise()</span></code></a> and <a class="reference internal" href="#py_trees.behaviour.Behaviour.terminate" title="py_trees.behaviour.Behaviour.terminate"><code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code></a> methods as well as making the
actual call to the user&#8217;s <a class="reference internal" href="#py_trees.behaviour.Behaviour.update" title="py_trees.behaviour.Behaviour.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a> method that determines the
behaviour&#8217;s new status once the tick has finished. Once done, it will
then yield itself (generator mechanism) so that it can be used as part of
an iterator for the entire tree.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">my_behaviour</span><span class="o">.</span><span class="n">tick</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Do something&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a generator function, you must use this with <em>yield</em>. If you need a direct call,
prefer <a class="reference internal" href="#py_trees.behaviour.Behaviour.tick_once" title="py_trees.behaviour.Behaviour.tick_once"><code class="xref py py-meth docutils literal"><span class="pre">tick_once()</span></code></a> instead.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.tick_once">
<code class="descname">tick_once</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.tick_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.tick_once" title="Permalink to this definition">¶</a></dt>
<dd><p>A direct means of calling tick on this object without
using the generator mechanism.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.tip">
<code class="descname">tip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.tip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.tip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <em>tip</em> of this behaviour&#8217;s subtree (if it has one) after it&#8217;s last
tick. This corresponds to the the deepest node that was running before the
subtree traversal reversed direction and headed back to this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">child behaviour, itself or <code class="xref py py-obj docutils literal"><span class="pre">None</span></code> if its status is <a class="reference internal" href="#py_trees.common.Status.INVALID" title="py_trees.common.Status.INVALID"><code class="xref py py-data docutils literal"><span class="pre">INVALID</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> or <code class="xref py py-obj docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.update" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">User Customisable Callback</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the behaviour&#8217;s new status <a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a></td>
</tr>
</tbody>
</table>
<p>Subclasses may override this method to perform any logic required to
arrive at a decision on the behaviour&#8217;s new status. It is the primary worker function called on
by the <a class="reference internal" href="#py_trees.behaviour.Behaviour.tick" title="py_trees.behaviour.Behaviour.tick"><code class="xref py py-meth docutils literal"><span class="pre">tick()</span></code></a> mechanism.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">This method should be almost instantaneous and non-blocking</p>
</div>
</dd></dl>

<dl class="method">
<dt id="py_trees.behaviour.Behaviour.visit">
<code class="descname">visit</code><span class="sig-paren">(</span><em>visitor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviour.html#Behaviour.visit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviour.Behaviour.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>This is functionality that enables external introspection into the behaviour. It gets used
by the tree manager classes to collect information as ticking traverses a tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>visitor</strong> (<code class="xref py py-obj docutils literal"><span class="pre">object</span></code>) &#8211; the visiting class, must have a run(<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) method.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-py_trees.behaviours">
<span id="py-trees-behaviours"></span><h2>py_trees.behaviours<a class="headerlink" href="#module-py_trees.behaviours" title="Permalink to this headline">¶</a></h2>
<p>A library of fundamental behaviours for use.</p>
<dl class="class">
<dt id="py_trees.behaviours.Count">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">Count</code><span class="sig-paren">(</span><em>name='Count'</em>, <em>fail_until=3</em>, <em>running_until=5</em>, <em>success_until=6</em>, <em>reset=True</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviours.html#Count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviours.Count" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>A counting behaviour that updates its status at each tick depending on
the value of the counter. The status will move through the states in order -
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a>, <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>,
<a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
<p>This behaviour is useful for simple testing and demo scenarios.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>fail_until</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; set status to <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> until the counter reaches this value</li>
<li><strong>running_until</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; set status to <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> until the counter reaches this value</li>
<li><strong>success_until</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; set status to <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> until the counter reaches this value</li>
<li><strong>reset</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; whenever invalidated (usually by a sequence reinitialising, or higher priority interrupting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first last"><strong>count</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; a simple counter which increments every tick</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.behaviours.Count.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviours.html#Count.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviours.Count.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple string representation of the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string representation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.Failure">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">Failure</code><span class="sig-paren">(</span><em>name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#py_trees.behaviours.Failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Do nothing but tick over with <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.OneshotSequence">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">OneshotSequence</code><span class="sig-paren">(</span><em>name='Sequence'</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviours.html#OneshotSequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviours.OneshotSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.composites.Sequence" title="py_trees.composites.Sequence"><code class="xref py py-class docutils literal"><span class="pre">py_trees.composites.Sequence</span></code></a></p>
<p>A sequence with a oneshot decorator applied to it.</p>
<dl class="method">
<dt id="py_trees.behaviours.OneshotSequence.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#py_trees.behaviours.OneshotSequence.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Tick over the children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself or one of its children</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.Periodic">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">Periodic</code><span class="sig-paren">(</span><em>name</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviours.html#Periodic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviours.Periodic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Simply periodically rotates it&#8217;s status over the
<a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>, <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>,
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> states.
That is, <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> for N ticks,
<a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> for N ticks,
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> for N ticks...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>n</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; period value (in ticks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It does not reset the count when initialising.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.Running">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">Running</code><span class="sig-paren">(</span><em>name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#py_trees.behaviours.Running" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Do nothing but tick over with <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.Success">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">Success</code><span class="sig-paren">(</span><em>name=''</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#py_trees.behaviours.Success" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Do nothing but tick over with <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="py_trees.behaviours.SuccessEveryN">
<em class="property">class </em><code class="descclassname">py_trees.behaviours.</code><code class="descname">SuccessEveryN</code><span class="sig-paren">(</span><em>name</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/behaviours.html#SuccessEveryN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.behaviours.SuccessEveryN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>This behaviour updates it&#8217;s status with <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>
once every N ticks, <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>n</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; trigger success on every n&#8217;th tick</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Use with decorators to change the status value as desired, e.g.
<a class="reference internal" href="#py_trees.meta.failure_is_running" title="py_trees.meta.failure_is_running"><code class="xref py py-meth docutils literal"><span class="pre">py_trees.meta.failure_is_running()</span></code></a></p>
</div>
</dd></dl>

</div>
<div class="section" id="module-py_trees.blackboard">
<span id="py-trees-blackboard"></span><h2>py_trees.blackboard<a class="headerlink" href="#module-py_trees.blackboard" title="Permalink to this headline">¶</a></h2>
<p>Blackboards are not a necessary component, but are a fairly standard feature
in most behaviour tree implementations. See, for example, the <a class="reference external" href="https://forums.unrealengine.com/showthread.php?2004-Blackboard-Documentation">design notes</a>
for blackboards in Unreal Engine.</p>
<a class="reference internal image-reference" href="_images/blackboard.jpg"><img alt="_images/blackboard.jpg" class="align-center" src="_images/blackboard.jpg" style="width: 300px;" /></a>
<p>Implementations however, tend to vary quite a bit depending on the needs of
the framework using them. Some of the usual considerations include scope
and sharing of blackboards across multiple tree instances.</p>
<p>For this package, we&#8217;ve decided to keep blackboards extremely simple to fit
with the same &#8216;rapid development for small scale systems&#8217; principles
that this library is designed for.</p>
<ul class="simple">
<li>No sharing between tree instances</li>
<li>No locking for reading/writing</li>
<li>Global scope, i.e. any behaviour can access any variable</li>
<li>No external communications (e.g. to a database)</li>
</ul>
<dl class="class">
<dt id="py_trees.blackboard.Blackboard">
<em class="property">class </em><code class="descclassname">py_trees.blackboard.</code><code class="descname">Blackboard</code><a class="reference internal" href="_modules/py_trees/blackboard.html#Blackboard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.Blackboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p><a class="reference external" href="http://code.activestate.com/recipes/66531-singleton-we-dont-need-no-stinkin-singleton-the-bo/">Borg</a> style key-value store for sharing amongst behaviours.</p>
<p class="rubric">Examples</p>
<p>You can instantiate the blackboard from anywhere in your program. Even
disconnected calls will get access to the same data store. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">check_foo</span><span class="p">():</span>
    <span class="n">blackboard</span> <span class="o">=</span> <span class="n">Blackboard</span><span class="p">()</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">blackboard</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">blackboard</span> <span class="o">=</span> <span class="n">Blackboard</span><span class="p">()</span>
    <span class="n">blackboard</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>
    <span class="n">check_foo</span><span class="p">()</span>
</pre></div>
</div>
<p>If the key value you are interested in is only known at runtime, then
you can set/get from the blackboard without the convenient variable style
access:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blackboard</span> <span class="o">=</span> <span class="n">Blackboard</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">blackboard</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">blackboard</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The blackboard can also be converted and printed (with highlighting)
as a string. This is useful for logging and debugging.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">Blackboard</span><span class="p">())</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be careful of key collisions. This implementation leaves this management up to the user.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="demos.html#py-trees-demo-blackboard-program"><span>py-trees-demo-blackboard</span></a> program demos use of the blackboard along with a couple of the blackboard behaviours.</p>
</div>
<dl class="method">
<dt id="py_trees.blackboard.Blackboard.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#Blackboard.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.Blackboard.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Express the blackboard contents as a string. Useful for debugging.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">blackboard contents</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.Blackboard.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#Blackboard.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.Blackboard.get" title="Permalink to this definition">¶</a></dt>
<dd><p>For when you only have strings to identify and access the blackboard variables,
this provides a convenient accessor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.Blackboard.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#Blackboard.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.Blackboard.set" title="Permalink to this definition">¶</a></dt>
<dd><p>For when you only have strings to identify and access the blackboard variables, this
provides a convenient setter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to set</li>
<li><strong>value</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; any variable type</li>
<li><strong>overwrite</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; whether to abort if the value is already present</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">always True unless overwrite was set to False and a variable already exists</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.blackboard.CheckBlackboardVariable">
<em class="property">class </em><code class="descclassname">py_trees.blackboard.</code><code class="descname">CheckBlackboardVariable</code><span class="sig-paren">(</span><em>name</em>, <em>variable_name='dummy'</em>, <em>expected_value=None</em>, <em>comparison_operator=&lt;built-in function eq&gt;</em>, <em>clearing_policy=&lt;ClearingPolicy.ON_INITIALISE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#CheckBlackboardVariable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.CheckBlackboardVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Check the blackboard to see if it has a specific variable
and optionally whether that variable has an expected value.
It is a binary behaviour, always updating it&#8217;s status
with either <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> or
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> at each tick.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>variable_name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to set</li>
<li><strong>expected_value</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; expected value to find (if <cite>None</cite>, check for existence only)</li>
<li><strong>comparison_operator</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; one from the python <a class="reference external" href="https://docs.python.org/2/library/operator.html">operator module</a></li>
<li><strong>clearing_policy</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; when to clear the match result, see <a class="reference internal" href="#py_trees.common.ClearingPolicy" title="py_trees.common.ClearingPolicy"><code class="xref py py-class docutils literal"><span class="pre">ClearingPolicy</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If just checking for existence, use the default argument <cite>expected_value=None</cite>.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">There are times when you want to get the expected match once and then save
that result thereafter. For example, to flag once a system has reached a
subgoal. Use the <a class="reference internal" href="#py_trees.common.ClearingPolicy.NEVER" title="py_trees.common.ClearingPolicy.NEVER"><code class="xref py py-data docutils literal"><span class="pre">NEVER</span></code></a> flag to do this.</p>
</div>
<dl class="method">
<dt id="py_trees.blackboard.CheckBlackboardVariable.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#CheckBlackboardVariable.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.CheckBlackboardVariable.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the internally stored message ready for a new run
if <code class="docutils literal"><span class="pre">old_data_is_valid</span></code> wasn&#8217;t set.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.CheckBlackboardVariable.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><em>new_status</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#CheckBlackboardVariable.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.CheckBlackboardVariable.terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Always discard the matching result if it was invalidated by a parent or
higher priority interrupt.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.CheckBlackboardVariable.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#CheckBlackboardVariable.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.CheckBlackboardVariable.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for existence, or the appropriate match on the expected value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> if not matched, <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> otherwise.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.blackboard.ClearBlackboardVariable">
<em class="property">class </em><code class="descclassname">py_trees.blackboard.</code><code class="descname">ClearBlackboardVariable</code><span class="sig-paren">(</span><em>name='Clear Blackboard Variable'</em>, <em>variable_name='dummy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#ClearBlackboardVariable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.ClearBlackboardVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">py_trees.meta.Success</span></code></p>
<p>Clear the specified value from the blackboard.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>variable_name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to clear</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.blackboard.ClearBlackboardVariable.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#ClearBlackboardVariable.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.ClearBlackboardVariable.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the variable from the blackboard.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.blackboard.SetBlackboardVariable">
<em class="property">class </em><code class="descclassname">py_trees.blackboard.</code><code class="descname">SetBlackboardVariable</code><span class="sig-paren">(</span><em>name='Set Blackboard Variable'</em>, <em>variable_name='dummy'</em>, <em>variable_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#SetBlackboardVariable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.SetBlackboardVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">py_trees.meta.Success</span></code></p>
<p>Set the specified variable on the blackboard.
Usually we set variables from inside other behaviours, but can
be convenient to set them from a behaviour of their own sometimes so you
don&#8217;t get blackboard logic mixed up with more atomic behaviours.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>variable_name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to set</li>
<li><strong>variable_value</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; value of the variable to set</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">overwrite option, leading to possible failure/success logic.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="py_trees.blackboard.WaitForBlackboardVariable">
<em class="property">class </em><code class="descclassname">py_trees.blackboard.</code><code class="descname">WaitForBlackboardVariable</code><span class="sig-paren">(</span><em>name</em>, <em>variable_name='dummy'</em>, <em>expected_value=None</em>, <em>comparison_operator=&lt;built-in function eq&gt;</em>, <em>clearing_policy=&lt;ClearingPolicy.ON_INITIALISE: 1&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#WaitForBlackboardVariable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.WaitForBlackboardVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Check the blackboard to see if it has a specific variable
and optionally whether that variable has a specific value.
Unlike <a class="reference internal" href="#py_trees.blackboard.CheckBlackboardVariable" title="py_trees.blackboard.CheckBlackboardVariable"><code class="xref py py-class docutils literal"><span class="pre">CheckBlackboardVariable</span></code></a>
this class will be in a <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> state until the variable appears
and (optionally) is matched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>variable_name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the variable to set</li>
<li><strong>expected_value</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; expected value to find (if <cite>None</cite>, check for existence only)</li>
<li><strong>comparison_operator</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; one from the python <a class="reference external" href="https://docs.python.org/2/library/operator.html">operator module</a></li>
<li><strong>clearing_policy</strong> (<code class="xref py py-obj docutils literal"><span class="pre">any</span></code>) &#8211; when to clear the match result, see <a class="reference internal" href="#py_trees.common.ClearingPolicy" title="py_trees.common.ClearingPolicy"><code class="xref py py-class docutils literal"><span class="pre">ClearingPolicy</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#py_trees.blackboard.CheckBlackboardVariable" title="py_trees.blackboard.CheckBlackboardVariable"><code class="xref py py-class docutils literal"><span class="pre">CheckBlackboardVariable</span></code></a></p>
</div>
<dl class="method">
<dt id="py_trees.blackboard.WaitForBlackboardVariable.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#WaitForBlackboardVariable.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.WaitForBlackboardVariable.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the internally stored message ready for a new run
if <code class="docutils literal"><span class="pre">old_data_is_valid</span></code> wasn&#8217;t set.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.WaitForBlackboardVariable.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><em>new_status</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#WaitForBlackboardVariable.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.WaitForBlackboardVariable.terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Always discard the matching result if it was invalidated by a parent or
higher priority interrupt.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.blackboard.WaitForBlackboardVariable.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/blackboard.html#WaitForBlackboardVariable.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.blackboard.WaitForBlackboardVariable.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for existence, or the appropriate match on the expected value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> if not matched, <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> otherwise.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-py_trees.common">
<span id="py-trees-common"></span><h2>py_trees.common<a class="headerlink" href="#module-py_trees.common" title="Permalink to this headline">¶</a></h2>
<p>Common definitions, methods and variables used by the py_trees library.</p>
<dl class="class">
<dt id="py_trees.common.BlackBoxLevel">
<em class="property">class </em><code class="descclassname">py_trees.common.</code><code class="descname">BlackBoxLevel</code><a class="reference internal" href="_modules/py_trees/common.html#BlackBoxLevel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.common.BlackBoxLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.IntEnum</span></code></p>
<p>Whether a behaviour is a blackbox entity that may be considered collapsible
(i.e. everything in its subtree will not be visualised) by
visualisation tools.</p>
<p>Blackbox levels are increasingly persistent in visualisations.</p>
<p>Visualisations by default, should always collapse blackboxes that represent
<cite>DETAIL</cite>.</p>
<dl class="attribute">
<dt id="py_trees.common.BlackBoxLevel.BIG_PICTURE">
<code class="descname">BIG_PICTURE</code><em class="property"> = &lt;BlackBoxLevel.BIG_PICTURE: 3&gt;</em><a class="headerlink" href="#py_trees.common.BlackBoxLevel.BIG_PICTURE" title="Permalink to this definition">¶</a></dt>
<dd><p>A blackbox that represents a big picture part of the entire tree view.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.BlackBoxLevel.COMPONENT">
<code class="descname">COMPONENT</code><em class="property"> = &lt;BlackBoxLevel.COMPONENT: 2&gt;</em><a class="headerlink" href="#py_trees.common.BlackBoxLevel.COMPONENT" title="Permalink to this definition">¶</a></dt>
<dd><p>A blackbox that encapsulates a subgroup of functionalities as a single group.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.BlackBoxLevel.DETAIL">
<code class="descname">DETAIL</code><em class="property"> = &lt;BlackBoxLevel.DETAIL: 1&gt;</em><a class="headerlink" href="#py_trees.common.BlackBoxLevel.DETAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>A blackbox that encapsulates detailed activity.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.BlackBoxLevel.NOT_A_BLACKBOX">
<code class="descname">NOT_A_BLACKBOX</code><em class="property"> = &lt;BlackBoxLevel.NOT_A_BLACKBOX: 4&gt;</em><a class="headerlink" href="#py_trees.common.BlackBoxLevel.NOT_A_BLACKBOX" title="Permalink to this definition">¶</a></dt>
<dd><p>Not a blackbox, do not ever collapse.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.common.ClearingPolicy">
<em class="property">class </em><code class="descclassname">py_trees.common.</code><code class="descname">ClearingPolicy</code><a class="reference internal" href="_modules/py_trees/common.html#ClearingPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.common.ClearingPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.IntEnum</span></code></p>
<p>Policy rules for behaviours to dictate when data should be cleared/reset.
Used by the <code class="xref py py-mod docutils literal"><span class="pre">subscribers</span></code> module.</p>
<dl class="attribute">
<dt id="py_trees.common.ClearingPolicy.NEVER">
<code class="descname">NEVER</code><em class="property"> = &lt;ClearingPolicy.NEVER: 3&gt;</em><a class="headerlink" href="#py_trees.common.ClearingPolicy.NEVER" title="Permalink to this definition">¶</a></dt>
<dd><p>Never clear the data</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.ClearingPolicy.ON_INITIALISE">
<code class="descname">ON_INITIALISE</code><em class="property"> = &lt;ClearingPolicy.ON_INITIALISE: 1&gt;</em><a class="headerlink" href="#py_trees.common.ClearingPolicy.ON_INITIALISE" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear when entering the <a class="reference internal" href="#py_trees.behaviour.Behaviour.initialise" title="py_trees.behaviour.Behaviour.initialise"><code class="xref py py-meth docutils literal"><span class="pre">initialise()</span></code></a> method.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.ClearingPolicy.ON_SUCCESS">
<code class="descname">ON_SUCCESS</code><em class="property"> = &lt;ClearingPolicy.ON_SUCCESS: 2&gt;</em><a class="headerlink" href="#py_trees.common.ClearingPolicy.ON_SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear when returning <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.common.ParallelPolicy">
<em class="property">class </em><code class="descclassname">py_trees.common.</code><code class="descname">ParallelPolicy</code><a class="reference internal" href="_modules/py_trees/common.html#ParallelPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.common.ParallelPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
<p>Policy rules for <a class="reference internal" href="#py_trees.composites.Parallel" title="py_trees.composites.Parallel"><code class="xref py py-class docutils literal"><span class="pre">Parallel</span></code></a> composites.</p>
<dl class="attribute">
<dt id="py_trees.common.ParallelPolicy.SUCCESS_ON_ALL">
<code class="descname">SUCCESS_ON_ALL</code><em class="property"> = &lt;ParallelPolicy.SUCCESS_ON_ALL: 'SUCCESS_ON_ALL'&gt;</em><a class="headerlink" href="#py_trees.common.ParallelPolicy.SUCCESS_ON_ALL" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> only when each and every child returns <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.ParallelPolicy.SUCCESS_ON_ONE">
<code class="descname">SUCCESS_ON_ONE</code><em class="property"> = &lt;ParallelPolicy.SUCCESS_ON_ONE: 'SUCCESS_ON_ONE'&gt;</em><a class="headerlink" href="#py_trees.common.ParallelPolicy.SUCCESS_ON_ONE" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> so long as at least one child has <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> and the remainder are <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.common.Status">
<em class="property">class </em><code class="descclassname">py_trees.common.</code><code class="descname">Status</code><a class="reference internal" href="_modules/py_trees/common.html#Status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.common.Status" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
<p>An enumerator representing the status of a behaviour</p>
<dl class="attribute">
<dt id="py_trees.common.Status.FAILURE">
<code class="descname">FAILURE</code><em class="property"> = &lt;Status.FAILURE: 'FAILURE'&gt;</em><a class="headerlink" href="#py_trees.common.Status.FAILURE" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaviour check has failed, or execution of its action finished with a failed result.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.Status.INVALID">
<code class="descname">INVALID</code><em class="property"> = &lt;Status.INVALID: 'INVALID'&gt;</em><a class="headerlink" href="#py_trees.common.Status.INVALID" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaviour is uninitialised and inactive, i.e. this is the status before first entry, and after a higher priority switch has occurred.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.Status.RUNNING">
<code class="descname">RUNNING</code><em class="property"> = &lt;Status.RUNNING: 'RUNNING'&gt;</em><a class="headerlink" href="#py_trees.common.Status.RUNNING" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaviour is in the middle of executing some action, result still pending.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.Status.SUCCESS">
<code class="descname">SUCCESS</code><em class="property"> = &lt;Status.SUCCESS: 'SUCCESS'&gt;</em><a class="headerlink" href="#py_trees.common.Status.SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><p>Behaviour check has passed, or execution of its action has finished with a successful result.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.common.VisibilityLevel">
<em class="property">class </em><code class="descclassname">py_trees.common.</code><code class="descname">VisibilityLevel</code><a class="reference internal" href="_modules/py_trees/common.html#VisibilityLevel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.common.VisibilityLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.IntEnum</span></code></p>
<p>Closely associated with the <a class="reference internal" href="#py_trees.common.BlackBoxLevel" title="py_trees.common.BlackBoxLevel"><code class="xref py py-class docutils literal"><span class="pre">BlackBoxLevel</span></code></a> for a
behaviour. This sets the visibility level to be used for visualisations.</p>
<p>Visibility levels correspond to reducing levels of visibility in a visualisation.</p>
<dl class="attribute">
<dt id="py_trees.common.VisibilityLevel.ALL">
<code class="descname">ALL</code><em class="property"> = &lt;VisibilityLevel.ALL: 0&gt;</em><a class="headerlink" href="#py_trees.common.VisibilityLevel.ALL" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not collapse any behaviour.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.VisibilityLevel.BIG_PICTURE">
<code class="descname">BIG_PICTURE</code><em class="property"> = &lt;VisibilityLevel.BIG_PICTURE: 3&gt;</em><a class="headerlink" href="#py_trees.common.VisibilityLevel.BIG_PICTURE" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse any blackbox that isn&#8217;t marked with <a class="reference internal" href="#py_trees.common.BlackBoxLevel.BIG_PICTURE" title="py_trees.common.BlackBoxLevel.BIG_PICTURE"><code class="xref py py-data docutils literal"><span class="pre">BIG_PICTURE</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.VisibilityLevel.COMPONENT">
<code class="descname">COMPONENT</code><em class="property"> = &lt;VisibilityLevel.COMPONENT: 2&gt;</em><a class="headerlink" href="#py_trees.common.VisibilityLevel.COMPONENT" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse blackboxes marked with <a class="reference internal" href="#py_trees.common.BlackBoxLevel.COMPONENT" title="py_trees.common.BlackBoxLevel.COMPONENT"><code class="xref py py-data docutils literal"><span class="pre">COMPONENT</span></code></a> or lower.</p>
</dd></dl>

<dl class="attribute">
<dt id="py_trees.common.VisibilityLevel.DETAIL">
<code class="descname">DETAIL</code><em class="property"> = &lt;VisibilityLevel.DETAIL: 1&gt;</em><a class="headerlink" href="#py_trees.common.VisibilityLevel.DETAIL" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse blackboxes marked with <a class="reference internal" href="#py_trees.common.BlackBoxLevel.DETAIL" title="py_trees.common.BlackBoxLevel.DETAIL"><code class="xref py py-data docutils literal"><span class="pre">DETAIL</span></code></a> or lower.</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="py_trees.common.string_to_visibility_level">
<code class="descclassname">common.</code><code class="descname">string_to_visibility_level</code><span class="sig-paren">(</span><em>level</em><span class="sig-paren">)</span><a class="headerlink" href="#py_trees.common.string_to_visibility_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Will convert a string to a visibility level. Note that it will quietly return ALL if
the string is not matched to any visibility level string identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>level</strong> (<em>str</em>) &#8211; visibility level as a string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">visibility level enum</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.common.VisibilityLevel" title="py_trees.common.VisibilityLevel"><code class="xref py py-class docutils literal"><span class="pre">VisibilityLevel</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-py_trees.composites">
<span id="py-trees-composites"></span><span id="py-trees-composites-module"></span><h2>py_trees.composites<a class="headerlink" href="#module-py_trees.composites" title="Permalink to this headline">¶</a></h2>
<p>Composites are the <strong>factories</strong> and <strong>decision makers</strong> of a
behaviour tree. They are responsible for shaping the branches.</p>
<p class="graphviz">
<img src="_images/graphviz-6e50a0da3e95e7e622089379009ce41c82566d2f.png" alt="digraph selector {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
Sequence [fontcolor=black, shape=box, fontsize=11, style=filled, fillcolor=orange];
Selector [fontcolor=black, shape=octagon, fontsize=11, style=filled, fillcolor=cyan];
Chooser [fontcolor=black, shape=doubleoctagon, fontsize=11, style=filled, fillcolor=cyan];
Parallel [fontcolor=black, shape=note, fontsize=11, style=filled, fillcolor=gold];
}" />
</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You should never need to subclass or create new composites.</p>
</div>
<p>Most patterns can be achieved with a combination of the above. Adding to this
set exponentially increases the complexity and subsequently
making it more difficult to design, introspect, visualise and debug the trees. Always try
to find the combination you need to achieve your result before contemplating adding
to this set. Actually, scratch that...just don&#8217;t contemplate it!</p>
<p>Composite behaviours typically manage children and apply some logic to the way
they execute and return a result, but generally don&#8217;t do anything themselves.
Perform the checks or actions you need to do in the non-composite behaviours.</p>
<ul class="simple">
<li><a class="reference internal" href="#py_trees.composites.Sequence" title="py_trees.composites.Sequence"><code class="xref py py-class docutils literal"><span class="pre">Sequence</span></code></a>: execute children sequentially</li>
<li><a class="reference internal" href="#py_trees.composites.Selector" title="py_trees.composites.Selector"><code class="xref py py-class docutils literal"><span class="pre">Selector</span></code></a>: select a path through the tree, interruptible by higher priorities</li>
<li><a class="reference internal" href="#py_trees.composites.Chooser" title="py_trees.composites.Chooser"><code class="xref py py-class docutils literal"><span class="pre">Chooser</span></code></a>: like a selector, but commits to a path once started until it finishes</li>
<li><a class="reference internal" href="#py_trees.composites.Parallel" title="py_trees.composites.Parallel"><code class="xref py py-class docutils literal"><span class="pre">Parallel</span></code></a>: manage children concurrently</li>
</ul>
<dl class="class">
<dt id="py_trees.composites.Chooser">
<em class="property">class </em><code class="descclassname">py_trees.composites.</code><code class="descname">Chooser</code><span class="sig-paren">(</span><em>name='Chooser'</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Chooser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Chooser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.composites.Selector" title="py_trees.composites.Selector"><code class="xref py py-class docutils literal"><span class="pre">py_trees.composites.Selector</span></code></a></p>
<p>Choosers are Selectors with Commitment</p>
<p class="graphviz">
<img src="_images/graphviz-5f55457f594243754acfb9159aac28a8ab3bead0.png" alt="digraph chooser {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
Chooser [fontcolor=black, shape=doubleoctagon, fontsize=11, style=filled, fillcolor=cyan];
&quot;High Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Chooser -&gt; &quot;High Priority&quot;;
&quot;Med Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Chooser -&gt; &quot;Med Priority&quot;;
&quot;Low Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Chooser -&gt; &quot;Low Priority&quot;;
}" />
</p>
<p>A variant of the selector class. Once a child is selected, it
cannot be interrupted by higher priority siblings. As soon as the chosen child
itself has finished it frees the chooser for an alternative selection. i.e. priorities
only come into effect if the chooser wasn&#8217;t running in the previous tick.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the only composite in py_trees that is not a core composite in most behaviour tree implementations.
Nonetheless, this is useful in fields like robotics, where you have to ensure that your manipulator doesn&#8217;t
drop it&#8217;s payload mid-motion as soon as a higher interrupt arrives. Use this composite
sparingly and only if you can&#8217;t find another way to easily create an elegant tree composition for your task.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the composite behaviour name</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</li>
<li><strong>*args</strong> &#8211; variable length argument list</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.composites.Chooser.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Chooser.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Chooser.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the tick behaviour for this chooser. Note that the status
of the tick is (for now) always determined by its children, not
by the user customised update function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself or one of its children</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.composites.Composite">
<em class="property">class </em><code class="descclassname">py_trees.composites.</code><code class="descname">Composite</code><span class="sig-paren">(</span><em>name=''</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>The parent class to all composite behaviours, i.e. those that
have children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the composite behaviour name</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</li>
<li><strong>*args</strong> &#8211; variable length argument list</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.composites.Composite.add_child">
<code class="descname">add_child</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.add_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a child.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to delete</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">unique id of the child</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">uuid.UUID</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.add_children">
<code class="descname">add_children</code><span class="sig-paren">(</span><em>children</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.add_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.add_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a list of children to the current list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.insert_child">
<code class="descname">insert_child</code><span class="sig-paren">(</span><em>child</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.insert_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.insert_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert child at the specified index. This simply directly calls
the python list&#8217;s <code class="xref py py-obj docutils literal"><span class="pre">insert</span></code> method using the child and index arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to insert</li>
<li><strong>index</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; index to insert it at</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">unique id of the child</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">uuid.UUID</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.prepend_child">
<code class="descname">prepend_child</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.prepend_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.prepend_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend the child before all other children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to insert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">unique id of the child</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">uuid.UUID</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.remove_all_children">
<code class="descname">remove_all_children</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.remove_all_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.remove_all_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all children. Makes sure to stop each child if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.remove_child">
<code class="descname">remove_child</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.remove_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the child behaviour from this composite.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to delete</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">index of the child that was removed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Error handling for when child is not in this list</p>
</div>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.remove_child_by_id">
<code class="descname">remove_child_by_id</code><span class="sig-paren">(</span><em>child_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.remove_child_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.remove_child_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the child with the specified id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>child_id</strong> (<em>uuid.UUID</em>) &#8211; unique id of the child</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code> &#8211;
if the child was not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.replace_child">
<code class="descname">replace_child</code><span class="sig-paren">(</span><em>child</em>, <em>replacement</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.replace_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.replace_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the child behaviour with another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to delete</li>
<li><strong>replacement</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; child to insert</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Relays to each child&#8217;s <code class="xref py py-meth docutils literal"><span class="pre">setup()</span></code> method in turn.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<code class="xref py py-obj docutils literal"><span class="pre">float</span></code>) &#8211; time to wait (0.0 is blocking forever)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">suceess or failure of the operation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>new_status=&lt;Status.INVALID: 'INVALID'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>There is generally two use cases that must be supported here.</p>
<p>1) Whenever the composite has gone to a recognised state (i.e. <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> or SUCCESS),
or 2) when a higher level parent calls on it to truly stop (INVALID).</p>
<p>In only the latter case will children need to be forcibly stopped as well. In the first case, they will
have stopped themselves appropriately already.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; behaviour will transition to this new status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Composite.tip">
<code class="descname">tip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Composite.tip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Composite.tip" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive function to extract the last running node of the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the tip function of the current child of this composite or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">:class::<cite>~py_trees.behaviour.Behaviour</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.composites.Parallel">
<em class="property">class </em><code class="descclassname">py_trees.composites.</code><code class="descname">Parallel</code><span class="sig-paren">(</span><em>name='Parallel'</em>, <em>policy=&lt;ParallelPolicy.SUCCESS_ON_ALL: 'SUCCESS_ON_ALL'&gt;</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Parallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.composites.Composite" title="py_trees.composites.Composite"><code class="xref py py-class docutils literal"><span class="pre">py_trees.composites.Composite</span></code></a></p>
<p>Parallels enable a kind of concurrency</p>
<p class="graphviz">
<img src="_images/graphviz-e5fff1a48a5e77f6cecdbe4bf76b1bdf08807f0f.png" alt="digraph parallel {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
&quot;Parallel&quot; [fontcolor=black, shape=note, fontsize=11, style=filled, fillcolor=gold];
&quot;B1&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
&quot;Parallel&quot; -&gt; &quot;B1&quot;;
&quot;B2&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
&quot;Parallel&quot; -&gt; &quot;B2&quot;;
}" />
</p>
<p>Ticks every child every time the parallel is run (a poor man&#8217;s form of paralellism).</p>
<ul class="simple">
<li>Parallels will return <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> if any child returns <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a></li>
<li>Parallels with policy <a class="reference internal" href="#py_trees.common.ParallelPolicy.SUCCESS_ON_ONE" title="py_trees.common.ParallelPolicy.SUCCESS_ON_ONE"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS_ON_ONE</span></code></a> return <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> if <strong>at least one</strong> child returns <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> and others are <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>.</li>
<li>Parallels with policy <a class="reference internal" href="#py_trees.common.ParallelPolicy.SUCCESS_ON_ALL" title="py_trees.common.ParallelPolicy.SUCCESS_ON_ALL"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS_ON_ALL</span></code></a> only returns <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> if <strong>all</strong> children return <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a></li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="demos.html#py-trees-demo-context-switching-program"><span>py-trees-demo-context-switching</span></a> program demos a parallel used to assist in a context switching scenario.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the composite behaviour name</li>
<li><strong>policy</strong> (<a class="reference internal" href="#py_trees.common.ParallelPolicy" title="py_trees.common.ParallelPolicy"><code class="xref py py-class docutils literal"><span class="pre">ParallelPolicy</span></code></a>) &#8211; policy to use for deciding success or otherwise</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</li>
<li><strong>*args</strong> &#8211; variable length argument list</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="py_trees.composites.Parallel.current_child">
<code class="descname">current_child</code><a class="headerlink" href="#py_trees.composites.Parallel.current_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Have to check if there&#8217;s anything actually running first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the child that is currently running, or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Parallel.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Parallel.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Parallel.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Tick over the children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself or one of its children</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.composites.Selector">
<em class="property">class </em><code class="descclassname">py_trees.composites.</code><code class="descname">Selector</code><span class="sig-paren">(</span><em>name='Selector'</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.composites.Composite" title="py_trees.composites.Composite"><code class="xref py py-class docutils literal"><span class="pre">py_trees.composites.Composite</span></code></a></p>
<p>Selectors are the Decision Makers</p>
<p class="graphviz">
<img src="_images/graphviz-1003da976a92af7388ec785e3f2add3605d285dd.png" alt="digraph selector {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
Selector [fontcolor=black, shape=octagon, fontsize=11, style=filled, fillcolor=cyan];
&quot;High Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Selector -&gt; &quot;High Priority&quot;;
&quot;Med Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Selector -&gt; &quot;Med Priority&quot;;
&quot;Low Priority&quot; [fontcolor=black, shape=ellipse, fontsize=11, style=filled, fillcolor=gray];
Selector -&gt; &quot;Low Priority&quot;;
}" />
</p>
<p>A selector executes each of its child behaviours in turn until one of them
succeeds (at which point it itself returns <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> or <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>,
or it runs out of children at which point it itself returns <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a>.
We usually refer to selecting children as a means of <em>choosing between priorities</em>.
Each child and its subtree represent a decreasingly lower priority path.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Switching from a low -&gt; high priority branch causes a <cite>stop(INVALID)</cite> signal to be sent to the previously
executing low priority branch. This signal will percolate down that child&#8217;s own subtree. Behaviours
should make sure that they catch this and <em>destruct</em> appropriately.</p>
</div>
<p>Make sure you do your appropriate cleanup in the <code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code> methods! e.g. cancelling a running goal, or restoring a context.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="demos.html#py-trees-demo-selector-program"><span>py-trees-demo-selector</span></a> program demos higher priority switching under a selector.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the composite behaviour name</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</li>
<li><strong>*args</strong> &#8211; variable length argument list</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.composites.Selector.__repr__">
<code class="descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Selector.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Selector.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple string representation of the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string representation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Selector.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>new_status=&lt;Status.INVALID: 'INVALID'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Selector.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Selector.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stopping a selector requires setting the current child to none. Note that it
is important to implement this here instead of terminate, so users are free
to subclass this easily with their own terminate and not have to remember
that they need to call this function manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the composite is transitioning to this new status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Selector.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Selector.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Selector.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the tick behaviour for this selector. Note that the status
of the tick is always determined by its children, not
by the user customised update function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself or one of its children</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.composites.Sequence">
<em class="property">class </em><code class="descclassname">py_trees.composites.</code><code class="descname">Sequence</code><span class="sig-paren">(</span><em>name='Sequence'</em>, <em>children=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.composites.Composite" title="py_trees.composites.Composite"><code class="xref py py-class docutils literal"><span class="pre">py_trees.composites.Composite</span></code></a></p>
<p>Sequences are the factory lines of Behaviour Trees</p>
<p class="graphviz">
<img src="_images/graphviz-de57a33516ce00a65697f27fd7ec9a3fe2d93e1e.png" alt="digraph sequence {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
Sequence [fillcolor=orange, fontcolor=black, fontsize=11, shape=box, style=filled];
Guard [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; Guard;
&quot;Action 1&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 1&quot;;
&quot;Action 2&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 2&quot;;
&quot;Action 3&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 3&quot;;
}" />
</p>
<p>A sequence will progressively tick over each of its children so long as
each child returns <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>. If any child returns
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> or <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> the sequence will halt and the parent will adopt
the result of this child. If it reaches the last child, it returns with
that result regardless.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sequence halts once it sees a child is RUNNING and then returns
the result. <em>It does not get stuck in the running behaviour</em>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="demos.html#py-trees-demo-sequence-program"><span>py-trees-demo-sequence</span></a> program demos a simple sequence in action.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; the composite behaviour name</li>
<li><strong>children</strong> ([<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>]) &#8211; list of children to add</li>
<li><strong>*args</strong> &#8211; variable length argument list</li>
<li><strong>**kwargs</strong> &#8211; arbitrary keyword arguments</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="py_trees.composites.Sequence.current_child">
<code class="descname">current_child</code><a class="headerlink" href="#py_trees.composites.Sequence.current_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Have to check if there&#8217;s anything actually running first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the child that is currently running, or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Sequence.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>new_status=&lt;Status.INVALID: 'INVALID'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Sequence.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Sequence.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stopping a sequence requires taking care of the current index. Note that
is important to implement this here intead of terminate, so users are free
to subclass this easily with their own terminate and not have to remember
that they need to call this function manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the composite is transitioning to this new status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.composites.Sequence.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/composites.html#Sequence.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.composites.Sequence.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Tick over the children.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> &#8211;
a reference to itself or one of its children</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-py_trees.console">
<span id="py-trees-console"></span><h2>py_trees.console<a class="headerlink" href="#module-py_trees.console" title="Permalink to this headline">¶</a></h2>
<p>Simple colour definitions and syntax highlighting for the console.</p>
<hr class="docutils" />
<p><strong>Colour Definitions</strong></p>
<p>The current list of colour definitions include:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Regular</span></code>: black, red, green, yellow, blue, magenta, cyan, white,</li>
<li><code class="docutils literal"><span class="pre">Bold</span></code>: bold, bold_black, bold_red, bold_green, bold_yellow, bold_blue, bold_magenta, bold_cyan, bold_white</li>
</ul>
</div></blockquote>
<p>These colour definitions can be used in the following way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">py_trees.console</span> <span class="kn">as</span> <span class="nn">console</span>
<span class="k">print</span><span class="p">(</span><span class="n">console</span><span class="o">.</span><span class="n">cyan</span> <span class="o">+</span> <span class="s2">&quot;    Name&quot;</span> <span class="o">+</span> <span class="n">console</span><span class="o">.</span><span class="n">reset</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="n">console</span><span class="o">.</span><span class="n">yellow</span> <span class="o">+</span> <span class="s2">&quot;Dude&quot;</span> <span class="o">+</span> <span class="n">console</span><span class="o">.</span><span class="n">reset</span><span class="p">)</span>
</pre></div>
</div>
<dl class="data">
<dt id="py_trees.console.colours">
<code class="descclassname">py_trees.console.</code><code class="descname">colours</code><em class="property"> = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']</em><a class="headerlink" href="#py_trees.console.colours" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all available colours.</p>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.console_has_colours">
<code class="descclassname">py_trees.console.</code><code class="descname">console_has_colours</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#console_has_colours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.console_has_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects if the console (stdout) has colourising capability.</p>
</dd></dl>

<dl class="data">
<dt id="py_trees.console.has_colours">
<code class="descclassname">py_trees.console.</code><code class="descname">has_colours</code><em class="property"> = False</em><a class="headerlink" href="#py_trees.console.has_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the loading program has access to colours or not.</p>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.logdebug">
<code class="descclassname">py_trees.console.</code><code class="descname">logdebug</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#logdebug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.logdebug" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefixes <code class="docutils literal"><span class="pre">[DEBUG]</span></code> and colours the message green.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; message to log.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.logerror">
<code class="descclassname">py_trees.console.</code><code class="descname">logerror</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#logerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.logerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefixes <code class="docutils literal"><span class="pre">[ERROR]</span></code> and colours the message red.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; message to log.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.logfatal">
<code class="descclassname">py_trees.console.</code><code class="descname">logfatal</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#logfatal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.logfatal" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefixes <code class="docutils literal"><span class="pre">[FATAL]</span></code> and colours the message bold red.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; message to log.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.loginfo">
<code class="descclassname">py_trees.console.</code><code class="descname">loginfo</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#loginfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.loginfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefixes <code class="docutils literal"><span class="pre">[</span> <span class="pre">INFO]</span></code> to the message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; message to log.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.logwarn">
<code class="descclassname">py_trees.console.</code><code class="descname">logwarn</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#logwarn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.logwarn" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefixes <code class="docutils literal"><span class="pre">[</span> <span class="pre">WARN]</span></code> and colours the message yellow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; message to log.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.console.read_single_keypress">
<code class="descclassname">py_trees.console.</code><code class="descname">read_single_keypress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/console.html#read_single_keypress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.console.read_single_keypress" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for a single keypress on stdin.</p>
<p>This is a silly function to call if you need to do it a lot because it has
to store stdin&#8217;s current setup, setup stdin for reading single keystrokes
then read the single keystroke then revert stdin back after reading the
keystroke.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the character of the key that was pressed</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">KeyboardInterrupt</span></code> &#8211;
if CTRL-C was pressed (keycode 0x03)</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-py_trees.display">
<span id="py-trees-display"></span><h2>py_trees.display<a class="headerlink" href="#module-py_trees.display" title="Permalink to this headline">¶</a></h2>
<p>Behaviour trees are significantly easier to design, monitor and debug
with visualisations. Py Trees does provide minimal assistance to render
trees to various simple output formats. Currently this includes dot graphs,
strings or stdout.</p>
<dl class="function">
<dt id="py_trees.display.ascii_tree">
<code class="descclassname">py_trees.display.</code><code class="descname">ascii_tree</code><span class="sig-paren">(</span><em>tree</em>, <em>indent=0</em>, <em>snapshot_information=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/display.html#ascii_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.display.ascii_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an ascii tree representation as a string for redirecting
to elsewhere other than stdout. This can be the entire tree, or
a recorded snapshot of the tree (i.e. just the part that was traversed).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tree</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; the root of the tree, or subtree you want to show</li>
<li><strong>indent</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; the number of characters to indent the tree</li>
<li><strong>snapshot_information</strong> (<a class="reference internal" href="#module-py_trees.visitors" title="py_trees.visitors: entities that visit behaviours as a tree is traversed"><code class="xref py py-mod docutils literal"><span class="pre">visitors</span></code></a>) &#8211; a visitor that recorded information about a traversed tree (e.g. <a class="reference internal" href="#py_trees.visitors.SnapshotVisitor" title="py_trees.visitors.SnapshotVisitor"><code class="xref py py-class docutils literal"><span class="pre">SnapshotVisitor</span></code></a>)</li>
<li><strong>snapshot_information</strong> &#8211; a visitor that recorded information about a traversed tree (e.g. <a class="reference internal" href="#py_trees.visitors.SnapshotVisitor" title="py_trees.visitors.SnapshotVisitor"><code class="xref py py-class docutils literal"><span class="pre">SnapshotVisitor</span></code></a>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an ascii tree (i.e. in string form)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Use the <a class="reference internal" href="#py_trees.visitors.SnapshotVisitor" title="py_trees.visitors.SnapshotVisitor"><code class="xref py py-class docutils literal"><span class="pre">SnapshotVisitor</span></code></a>
and <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>
to generate snapshot information at each tick and feed that to
a post tick handler that will print the traversed ascii tree
complete with status and feedback messages.</p>
<a class="reference internal image-reference" href="_images/ascii_tree.png"><img alt="_images/ascii_tree.png" class="align-right" src="_images/ascii_tree.png" style="width: 200px;" /></a>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">post_tick_handler</span><span class="p">(</span><span class="n">snapshot_visitor</span><span class="p">,</span> <span class="n">behaviour_tree</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">py_trees</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">ascii_tree</span><span class="p">(</span><span class="n">behaviour_tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span>
          <span class="n">snapshot_information</span><span class="o">=</span><span class="n">snapshot_visitor</span><span class="p">))</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">composites</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="s2">&quot;Sequence&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Action 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 3&quot;</span><span class="p">]:</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">Count</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">action</span><span class="p">,</span>
            <span class="n">fail_until</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">running_until</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">success_until</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">behaviour_tree</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">trees</span><span class="o">.</span><span class="n">BehaviourTree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="n">snapshot_visitor</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">visitors</span><span class="o">.</span><span class="n">SnapshotVisitor</span><span class="p">()</span>
<span class="n">behaviour_tree</span><span class="o">.</span><span class="n">add_post_tick_handler</span><span class="p">(</span>
    <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">post_tick_handler</span><span class="p">,</span>
                      <span class="n">snapshot_visitor</span><span class="p">))</span>
<span class="n">behaviour_tree</span><span class="o">.</span><span class="n">visitors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">snapshot_visitor</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.display.generate_pydot_graph">
<code class="descclassname">py_trees.display.</code><code class="descname">generate_pydot_graph</code><span class="sig-paren">(</span><em>root</em>, <em>visibility_level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/display.html#generate_pydot_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.display.generate_pydot_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the pydot graph - this is usually the first step in
rendering the tree to file. See also <a class="reference internal" href="#py_trees.display.render_dot_tree" title="py_trees.display.render_dot_tree"><code class="xref py py-func docutils literal"><span class="pre">render_dot_tree()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; the root of a tree, or subtree</li>
<li><strong>(</strong> (<em>visibility_level</em>) &#8211; class`~py_trees.common.VisibilityLevel`): collapse subtrees at or under this level</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">graph</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pydot.Dot</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.display.print_ascii_tree">
<code class="descclassname">py_trees.display.</code><code class="descname">print_ascii_tree</code><span class="sig-paren">(</span><em>root</em>, <em>indent=0</em>, <em>show_status=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/display.html#print_ascii_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.display.print_ascii_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the ASCII representation of an entire behaviour tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; the root of the tree, or subtree you want to show</li>
<li><strong>indent</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; the number of characters to indent the tree</li>
<li><strong>show_status</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; additionally show feedback message and status of every element</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Render a simple tree in ascii format to stdout.</p>
<a class="reference internal image-reference" href="_images/ascii_tree_simple.png"><img alt="_images/ascii_tree_simple.png" class="align-right" src="_images/ascii_tree_simple.png" style="width: 100px;" /></a>
<div class="highlight-python"><div class="highlight"><pre><span class="n">root</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">composites</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="s2">&quot;Sequence&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Action 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 3&quot;</span><span class="p">]:</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">Count</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">action</span><span class="p">,</span>
            <span class="n">fail_until</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">running_until</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">success_until</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">py_trees</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">print_ascii_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To additionally display status and feedbback message from every behaviour in the tree,
simply set the <code class="xref py py-obj docutils literal"><span class="pre">show_status</span></code> flag to True.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.display.render_dot_tree">
<code class="descclassname">py_trees.display.</code><code class="descname">render_dot_tree</code><span class="sig-paren">(</span><em>root</em>, <em>visibility_level=&lt;VisibilityLevel.DETAIL: 1&gt;</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/display.html#render_dot_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.display.render_dot_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the dot tree to .dot, .svg, .png. files in the current
working directory. These will be named with the root behaviour name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; the root of a tree, or subtree</li>
<li><strong>(</strong> (<em>visibility_level</em>) &#8211; class`~py_trees.common.VisibilityLevel`): collapse subtrees at or under this level</li>
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name to use for the created files (defaults to the root behaviour name)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>Render a simple tree to dot/svg/png file:</p>
<p class="graphviz">
<img src="_images/graphviz-de57a33516ce00a65697f27fd7ec9a3fe2d93e1e.png" alt="digraph sequence {
graph [fontname=&quot;times-roman&quot;];
node [fontname=&quot;times-roman&quot;];
edge [fontname=&quot;times-roman&quot;];
Sequence [fillcolor=orange, fontcolor=black, fontsize=11, shape=box, style=filled];
Guard [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; Guard;
&quot;Action 1&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 1&quot;;
&quot;Action 2&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 2&quot;;
&quot;Action 3&quot; [fillcolor=gray, fontcolor=black, fontsize=11, shape=ellipse, style=filled];
Sequence -&gt; &quot;Action 3&quot;;
}" />
</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">root</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">composites</span><span class="o">.</span><span class="n">Sequence</span><span class="p">(</span><span class="s2">&quot;Sequence&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Action 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Action 3&quot;</span><span class="p">]:</span>
    <span class="n">success_after_two</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">Count</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">job</span><span class="p">,</span>
                                                  <span class="n">fail_until</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                  <span class="n">running_until</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                  <span class="n">success_until</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">success_after_two</span><span class="p">)</span>
<span class="n">py_trees</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">render_dot_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">A good practice is to provide a command line argument for optional rendering of a program so users
can quickly visualise what tree the program will execute.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.display.stringify_dot_tree">
<code class="descclassname">py_trees.display.</code><code class="descname">stringify_dot_tree</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/display.html#stringify_dot_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.display.stringify_dot_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate dot tree graphs and return a string representation
of the dot graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; the root of a tree, or subtree</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dot graph as a string</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-py_trees.meta">
<span id="py-trees-meta"></span><h2>py_trees.meta<a class="headerlink" href="#module-py_trees.meta" title="Permalink to this headline">¶</a></h2>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">This module is the least likely to remain stable in this package. It has
only received cursory attention so far and a more thoughtful design for handling
behaviour &#8216;hats&#8217; might be needful at some point in the future.</p>
</div>
<p>Meta behaviours are created by utilising various programming techniques
pulled from a magic bag of tricks. Some of these minimise the effort to generate
a new behaviour while others provide mechanisms that greatly expand your
library of usable behaviours without having to increase the number of explicit
behaviours contained therein. The latter is achieved by providing a means for
behaviours to wear different &#8216;hats&#8217; via python decorators.</p>
<a class="reference internal image-reference" href="_images/many-hats.png"><img alt="_images/many-hats.png" class="align-center" src="_images/many-hats.png" style="width: 40px;" /></a>
<p>Each function or decorator listed below includes its own example code
demonstrating its use.</p>
<p><strong>Factories</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#py_trees.meta.create_behaviour_from_function" title="py_trees.meta.create_behaviour_from_function"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.create_behaviour_from_function()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.create_imposter" title="py_trees.meta.create_imposter"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.create_imposter()</span></code></a></li>
</ul>
<p><strong>Decorators (Hats)</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#py_trees.meta.condition" title="py_trees.meta.condition"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.condition()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.inverter" title="py_trees.meta.inverter"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.inverter()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.failure_is_running" title="py_trees.meta.failure_is_running"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.failure_is_running()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.failure_is_success" title="py_trees.meta.failure_is_success"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.failure_is_success()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.oneshot" title="py_trees.meta.oneshot"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.oneshot()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.running_is_failure" title="py_trees.meta.running_is_failure"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.running_is_failure()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.running_is_success" title="py_trees.meta.running_is_success"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.running_is_success()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.success_is_failure" title="py_trees.meta.success_is_failure"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.success_is_failure()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.success_is_running" title="py_trees.meta.success_is_running"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.success_is_running()</span></code></a></li>
<li><a class="reference internal" href="#py_trees.meta.timeout" title="py_trees.meta.timeout"><code class="xref py py-func docutils literal"><span class="pre">py_trees.meta.timeout()</span></code></a></li>
</ul>
<dl class="function">
<dt id="py_trees.meta.condition">
<code class="descclassname">py_trees.meta.</code><code class="descname">condition</code><span class="sig-paren">(</span><em>cls</em>, <em>status</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#condition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates a behaviour and wait for it&#8217;s status to flip to the
desired state. This behaviour will tick with
<a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> while waiting and
<a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a> when the flip occurs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</li>
<li><strong>status</strong> (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) &#8211; the desired status to watch for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the modified behaviour class</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@condition</span><span class="p">(</span><span class="n">py_trees</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HangingAbout</span><span class="p">(</span><span class="n">WillStartSoon</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hanging_about</span> <span class="o">=</span> <span class="n">condition</span><span class="p">(</span><span class="n">WillStartSoon</span><span class="p">,</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hanging About&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.create_behaviour_from_function">
<code class="descclassname">py_trees.meta.</code><code class="descname">create_behaviour_from_function</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#create_behaviour_from_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.create_behaviour_from_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a behaviour from the specified function, dropping it in for
the Behaviour <a class="reference internal" href="#py_trees.behaviour.Behaviour.update" title="py_trees.behaviour.Behaviour.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a> method.
Ths function must include the <cite>self</cite>
argument and return a <code class="xref py py-class docutils literal"><span class="pre">Status</span></code> value.
It also automatically provides a drop-in for the <a class="reference internal" href="#py_trees.behaviour.Behaviour.terminate" title="py_trees.behaviour.Behaviour.terminate"><code class="xref py py-meth docutils literal"><span class="pre">terminate()</span></code></a>
method that clears the feedback message. Other methods are left untouched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<code class="xref py py-obj docutils literal"><span class="pre">function</span></code>) &#8211; a drop-in for the <a class="reference internal" href="#py_trees.behaviour.Behaviour.update" title="py_trees.behaviour.Behaviour.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a> method</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.create_imposter">
<code class="descclassname">py_trees.meta.</code><code class="descname">create_imposter</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#create_imposter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.create_imposter" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new behaviour type impersonating (encapsulating) another
behaviour type.</p>
<p>This is primarily used to develop
other decorators but can also be useful in itself. It takes care of
the handles responsible for making the encapsulation work and
leaves you with just the task of replacing the relevant modifications
(usually to the <a class="reference internal" href="#py_trees.behaviour.Behaviour.update" title="py_trees.behaviour.Behaviour.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a> method).
The modifications can be made by direct replacement of methods or
by inheriting and overriding them. See the examples below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the new encapsulated behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Replacing methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">tick_once</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">FAILURE</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">status</span>

<span class="n">FailureIsSuccess</span> <span class="o">=</span> <span class="n">create_imposter</span><span class="p">(</span><span class="n">py_trees</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">Failure</span><span class="p">)</span>
<span class="nb">setattr</span><span class="p">(</span><span class="n">FailureIsSuccess</span><span class="p">,</span> <span class="s2">&quot;update&quot;</span><span class="p">,</span> <span class="n">_update</span><span class="p">)</span>
</pre></div>
</div>
<p>Subclassing and overriding:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FailureIsSuccess</span><span class="p">(</span><span class="n">create_imposter</span><span class="p">(</span><span class="n">py_trees</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">Failure</span><span class="p">)):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FailureIsSuccess</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">tick_once</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">FAILURE</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">common</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">original</span><span class="o">.</span><span class="n">status</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.failure_is_running">
<code class="descclassname">py_trees.meta.</code><code class="descname">failure_is_running</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#failure_is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.failure_is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Dont stop running.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@failure_is_running</span>
<span class="k">class</span> <span class="nc">MustGoOnRegardless</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">must_go_on_regardless</span> <span class="o">=</span> <span class="n">failure_is_running</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Goon&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.failure_is_success">
<code class="descclassname">py_trees.meta.</code><code class="descname">failure_is_success</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#failure_is_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.failure_is_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Be positive, always succeed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@failure_is_success</span>
<span class="k">class</span> <span class="nc">MustGoOnRegardless</span><span class="p">(</span><span class="n">ActedLikeAGoon</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">must_go_on_regardless</span> <span class="o">=</span> <span class="n">failure_is_success</span><span class="p">(</span><span class="n">ActedLikeAGoon</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Goon&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.inverter">
<code class="descclassname">py_trees.meta.</code><code class="descname">inverter</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#inverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.inverter" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that inverts the result of a class&#8217;s update function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@inverter</span>
<span class="k">class</span> <span class="nc">Failure</span><span class="p">(</span><span class="n">Success</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">failure</span> <span class="o">=</span> <span class="n">inverter</span><span class="p">(</span><span class="n">Success</span><span class="p">)(</span><span class="s2">&quot;Failure&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.oneshot">
<code class="descclassname">py_trees.meta.</code><code class="descname">oneshot</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#oneshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.oneshot" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that ensures the given behaviour run only until it returns
success or failure. For all subsequent re-entries to the behaviour, it
will continue returning the same status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@oneshot</span>
<span class="k">class</span> <span class="nc">DoOrDie</span><span class="p">(</span><span class="n">GimmeASecondChance</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">do_or_die</span> <span class="o">=</span> <span class="n">gimme_a_second_chance</span><span class="p">(</span><span class="n">GimmeASecondChance</span><span class="p">)(</span><span class="s2">&quot;Do or Die&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.running_is_failure">
<code class="descclassname">py_trees.meta.</code><code class="descname">running_is_failure</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#running_is_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.running_is_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Got to be snappy! We want results...yesterday!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@running_is_failure</span>
<span class="k">class</span> <span class="nc">NeedResultsNow</span><span class="p">(</span><span class="n">Pontificating</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">need_results_now</span> <span class="o">=</span> <span class="n">running_is_failure</span><span class="p">(</span><span class="n">Pontificating</span><span class="p">)(</span><span class="s2">&quot;Greek Philosopher&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.running_is_success">
<code class="descclassname">py_trees.meta.</code><code class="descname">running_is_success</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#running_is_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.running_is_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Don&#8217;t hang around...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@running_is_success</span>
<span class="k">class</span> <span class="nc">DontHangAround</span><span class="p">(</span><span class="n">Pontificating</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dont_hang_around</span> <span class="o">=</span> <span class="n">running_is_success</span><span class="p">(</span><span class="n">Pontificating</span><span class="p">)(</span><span class="s2">&quot;Greek Philosopher&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.success_is_failure">
<code class="descclassname">py_trees.meta.</code><code class="descname">success_is_failure</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#success_is_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.success_is_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Be depressed, always fail.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@success_is_failure</span>
<span class="k">class</span> <span class="nc">TheEndIsNigh</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">the_end_is_nigh</span> <span class="o">=</span> <span class="n">success_is_failure</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Goon&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.success_is_running">
<code class="descclassname">py_trees.meta.</code><code class="descname">success_is_running</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#success_is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.success_is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>It never ends...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the modified behaviour class</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@success_is_running</span>
<span class="k">class</span> <span class="nc">TheEndIsSillNotNigh</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">the_end_is_still_not_nigh</span> <span class="o">=</span> <span class="n">success_is_running</span><span class="p">(</span><span class="n">ActingLikeAGoon</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Goon&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="py_trees.meta.timeout">
<code class="descclassname">py_trees.meta.</code><code class="descname">timeout</code><span class="sig-paren">(</span><em>cls</em>, <em>duration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/meta.html#timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.meta.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that applies a timeout pattern to an existing behaviour.
If the timeout is reached, the encapsulated behaviour&#8217;s <a class="reference internal" href="#py_trees.behaviour.Behaviour.stop" title="py_trees.behaviour.Behaviour.stop"><code class="xref py py-meth docutils literal"><span class="pre">stop()</span></code></a>
method is called with status <a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> otherwise it will
simply directly tick and return with the same status
as that of it&#8217;s encapsulated behaviour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; an existing behaviour class type</li>
<li><strong>duration</strong> (<code class="xref py py-obj docutils literal"><span class="pre">float</span></code>) &#8211; timeout length in seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the modified behaviour class with timeout</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@py_trees.meta.timeout</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">WorkBehaviour</span><span class="p">(</span><span class="n">py_trees</span><span class="o">.</span><span class="n">behaviour</span><span class="o">.</span><span class="n">Behaviour</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">work_with_timeout</span> <span class="o">=</span> <span class="n">py_trees</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="n">WorkBehaviour</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Work&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-py_trees.timers">
<span id="py-trees-timers"></span><h2>py_trees.timers<a class="headerlink" href="#module-py_trees.timers" title="Permalink to this headline">¶</a></h2>
<p>Time related behaviours.</p>
<dl class="class">
<dt id="py_trees.timers.Timer">
<em class="property">class </em><code class="descclassname">py_trees.timers.</code><code class="descname">Timer</code><span class="sig-paren">(</span><em>name='Timer'</em>, <em>duration=5.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/timers.html#Timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.timers.Timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">py_trees.behaviour.Behaviour</span></code></a></p>
<p>Simple timer class that is <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a> until the timer
runs out, at which point it is <a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
<p>The timer gets reset either upon entry (<a class="reference internal" href="#py_trees.behaviour.Behaviour.initialise" title="py_trees.behaviour.Behaviour.initialise"><code class="xref py py-meth docutils literal"><span class="pre">initialise()</span></code></a>)
if it hasn&#8217;t already been set and gets cleared when it either runs out, or the behaviour is
interrupted by a higher priority or parent cancelling it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the behaviour</li>
<li><strong>duration</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; length of time to run (in seconds)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This succeeds the first time the behaviour is ticked <strong>after</strong> the expected
finishing time.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Use the <a class="reference internal" href="#py_trees.meta.running_is_failure" title="py_trees.meta.running_is_failure"><code class="xref py py-func docutils literal"><span class="pre">running_is_failure()</span></code></a> decorator if you need
<a class="reference internal" href="#py_trees.common.Status.FAILURE" title="py_trees.common.Status.FAILURE"><code class="xref py py-data docutils literal"><span class="pre">FAILURE</span></code></a> until the timer finishes.</p>
</div>
<dl class="method">
<dt id="py_trees.timers.Timer.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/timers.html#Timer.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.timers.Timer.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the expected finishing time.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.timers.Timer.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><em>new_status</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/timers.html#Timer.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.timers.Timer.terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the expected finishing time.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.timers.Timer.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/timers.html#Timer.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.timers.Timer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Check current time against the expected finishing time. If it is in excess, flip to
<a class="reference internal" href="#py_trees.common.Status.SUCCESS" title="py_trees.common.Status.SUCCESS"><code class="xref py py-data docutils literal"><span class="pre">SUCCESS</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-py_trees.trees">
<span id="py-trees-trees"></span><h2>py_trees.trees<a class="headerlink" href="#module-py_trees.trees" title="Permalink to this headline">¶</a></h2>
<p>While a graph of connected behaviours and composites form a tree in their own right
(i.e. it can be initialised and ticked), it is usually convenient to wrap your tree
in another class to take care of alot of the housework and provide some extra bells
and whistles that make your tree flourish.</p>
<a class="reference internal image-reference" href="_images/yggdrasil.jpg"><img alt="_images/yggdrasil.jpg" class="align-center" src="_images/yggdrasil.jpg" style="width: 200px;" /></a>
<p>This package provides a default reference implementation that is directly usable, but
can also be easily used as inspiration for your own tree custodians.</p>
<dl class="class">
<dt id="py_trees.trees.BehaviourTree">
<em class="property">class </em><code class="descclassname">py_trees.trees.</code><code class="descname">BehaviourTree</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Grow, water, prune your behaviour tree with this, the default reference
implementation. It features a few enhancements to provide richer logging,
introspection and dynamic management of the tree itself:</p>
<ul class="simple">
<li>Pre and post tick handlers to execute code automatically before and after a tick</li>
<li>Visitor access to the parts of the tree that were traversed in a tick</li>
<li>Subtree pruning and insertion operations</li>
<li>Continuous tick-tock support</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="demos.html#py-trees-demo-tree-stewardship-program"><span>py-trees-demo-tree-stewardship</span></a> program demonstrates the above features.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; root node of the tree</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>count</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; number of times the tree has been ticked.</li>
<li><strong>root</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; root node of the tree</li>
<li><a class="reference internal" href="#module-py_trees.visitors" title="py_trees.visitors: entities that visit behaviours as a tree is traversed"><strong>visitors</strong></a> ([<a class="reference internal" href="#module-py_trees.visitors" title="py_trees.visitors: entities that visit behaviours as a tree is traversed"><code class="xref py py-mod docutils literal"><span class="pre">visitors</span></code></a>]) &#8211; entities that visit traversed parts of the tree when it ticks</li>
<li><strong>pre_tick_handlers</strong> ([<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>]) &#8211; functions that run before the entire tree is ticked</li>
<li><strong>post_tick_handlers</strong> ([<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>]) &#8211; functions that run after the entire tree is ticked</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> &#8211;
if incoming root variable is not the correct type</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.trees.BehaviourTree.add_post_tick_handler">
<code class="descname">add_post_tick_handler</code><span class="sig-paren">(</span><em>handler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.add_post_tick_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.add_post_tick_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function to execute after the tree has ticked. The function must have
a single argument of type <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>.</p>
<p>Some ideas that are often used:</p>
<ul class="simple">
<li>logging</li>
<li>modifications on the tree itself (e.g. closing down a plan)</li>
<li>sending data to visualisation tools</li>
<li>introspect the state of the tree to make and send reports</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.add_pre_tick_handler">
<code class="descname">add_pre_tick_handler</code><span class="sig-paren">(</span><em>handler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.add_pre_tick_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.add_pre_tick_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function to execute before the tree is ticked. The function must have
a single argument of type <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>.</p>
<p>Some ideas that are often used:</p>
<ul class="simple">
<li>logging (to file or stdout)</li>
<li>modifications on the tree itself (e.g. starting a new plan)</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy the tree by stopping the root node.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.insert_subtree">
<code class="descname">insert_subtree</code><span class="sig-paren">(</span><em>child</em>, <em>unique_id</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.insert_subtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.insert_subtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a subtree as a child of the specified parent. If the parent
is found, this directly calls the parent&#8217;s
<a class="reference internal" href="#py_trees.composites.Composite.insert_child" title="py_trees.composites.Composite.insert_child"><code class="xref py py-meth docutils literal"><span class="pre">insert_child()</span></code></a>
method using the child and index arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>child</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; subtree to insert</li>
<li><strong>unique_id</strong> (<em>uuid.UUID</em>) &#8211; unique id of the parent</li>
<li><strong>index</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; insert the child at this index, pushing all children after it back one.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">suceess or failure (parent not found) of the operation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> &#8211;
if the parent is not a <a class="reference internal" href="#py_trees.composites.Composite" title="py_trees.composites.Composite"><code class="xref py py-class docutils literal"><span class="pre">Composite</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Could use better, more informative error handling here. Especially if the insertion
has its own error handling (e.g. index out of range). Could also use a different api
that relies on the id of the sibling node it should be inserted before/after.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.interrupt">
<code class="descname">interrupt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.interrupt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Interrupt tick-tock if it is tick-tocking. Note that this will permit a currently
executing tick to finish before interrupting the tick-tock.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.prune_subtree">
<code class="descname">prune_subtree</code><span class="sig-paren">(</span><em>unique_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.prune_subtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.prune_subtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Prune a subtree given the unique id of the root of the subtree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unique_id</strong> (<em>uuid.UUID</em>) &#8211; unique id of the subtree root</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success or failure of the operation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code> &#8211;
if unique id is the behaviour tree&#8217;s root node id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.replace_subtree">
<code class="descname">replace_subtree</code><span class="sig-paren">(</span><em>unique_id</em>, <em>subtree</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.replace_subtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.replace_subtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the subtree with the specified id for the new subtree.
This is a common pattern where we&#8217;d like to swap out a whole sub-behaviour for another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>unique_id</strong> (<em>uuid.UUID</em>) &#8211; unique id of the parent</li>
<li><strong>subtree</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; root behaviour of the subtree</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Raises</dt>
<dd>AssertionError: if unique id is the behaviour tree&#8217;s root node id</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">suceess or failure of the operation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.setup" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Relays to calling the <code class="xref py py-meth docutils literal"><span class="pre">setup()</span></code> method
on the root behaviour. This in turn should get recursively called down through
the entire tree.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<code class="xref py py-obj docutils literal"><span class="pre">float</span></code>) &#8211; time to wait (0.0 is blocking forever)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">suceess or failure of the operation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><em>pre_tick_handler=None</em>, <em>post_tick_handler=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Tick the tree just once and run any handlers before and after the tick.
This optionally accepts some one-shot handlers (c.f. those added by
<a class="reference internal" href="#py_trees.trees.BehaviourTree.add_pre_tick_handler" title="py_trees.trees.BehaviourTree.add_pre_tick_handler"><code class="xref py py-meth docutils literal"><span class="pre">add_pre_tick_handler()</span></code></a> and <a class="reference internal" href="#py_trees.trees.BehaviourTree.add_post_tick_handler" title="py_trees.trees.BehaviourTree.add_post_tick_handler"><code class="xref py py-meth docutils literal"><span class="pre">add_post_tick_handler()</span></code></a>
which will be automatically run every time).</p>
<p>The handler functions must have a single argument of type <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pre_tick_handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function to execute before ticking</li>
<li><strong>post_tick_handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function to execute after ticking</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.tick_tock">
<code class="descname">tick_tock</code><span class="sig-paren">(</span><em>sleep_ms</em>, <em>number_of_iterations=-1</em>, <em>pre_tick_handler=None</em>, <em>post_tick_handler=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.tick_tock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.tick_tock" title="Permalink to this definition">¶</a></dt>
<dd><p>Tick continuously with a sleep interval as specified. This optionally accepts some handlers that will
be used for the duration of this tick tock (c.f. those added by
<a class="reference internal" href="#py_trees.trees.BehaviourTree.add_pre_tick_handler" title="py_trees.trees.BehaviourTree.add_pre_tick_handler"><code class="xref py py-meth docutils literal"><span class="pre">add_pre_tick_handler()</span></code></a> and <a class="reference internal" href="#py_trees.trees.BehaviourTree.add_post_tick_handler" title="py_trees.trees.BehaviourTree.add_post_tick_handler"><code class="xref py py-meth docutils literal"><span class="pre">add_post_tick_handler()</span></code></a>
which will be automatically run every time).</p>
<p>The handler functions must have a single argument of type <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sleep_ms</strong> (<code class="xref py py-obj docutils literal"><span class="pre">float</span></code>) &#8211; sleep this much between ticks (milliseconds)</li>
<li><strong>number_of_iterations</strong> (<code class="xref py py-obj docutils literal"><span class="pre">int</span></code>) &#8211; number of iterations to tick-tock</li>
<li><strong>pre_tick_handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function to execute before ticking</li>
<li><strong>post_tick_handler</strong> (<code class="xref py py-obj docutils literal"><span class="pre">func</span></code>) &#8211; function to execute after ticking</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py_trees.trees.BehaviourTree.tip">
<code class="descname">tip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/trees.html#BehaviourTree.tip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.trees.BehaviourTree.tip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <em>tip</em> of the tree.
This corresponds to the the deepest node that was running before the
subtree traversal reversed direction and headed back to this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">child behaviour, itself or <code class="xref py py-obj docutils literal"><span class="pre">None</span></code> if its status is <a class="reference internal" href="#py_trees.common.Status.INVALID" title="py_trees.common.Status.INVALID"><code class="xref py py-data docutils literal"><span class="pre">INVALID</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a> or <code class="xref py py-obj docutils literal"><span class="pre">None</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#py_trees.behaviour.Behaviour.tip" title="py_trees.behaviour.Behaviour.tip"><code class="xref py py-meth docutils literal"><span class="pre">tip()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-py_trees.utilities">
<span id="py-trees-utilities"></span><h2>py_trees.utilities<a class="headerlink" href="#module-py_trees.utilities" title="Permalink to this headline">¶</a></h2>
<p>Assorted utility functions.</p>
<dl class="function">
<dt id="py_trees.utilities.which">
<code class="descclassname">py_trees.utilities.</code><code class="descname">which</code><span class="sig-paren">(</span><em>program</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/utilities.html#which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.utilities.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around the command line &#8216;which&#8217; program.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>program</strong> (<code class="xref py py-obj docutils literal"><span class="pre">str</span></code>) &#8211; name of the program to find.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">path to the program or None if it doesnt exist.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-py_trees.visitors">
<span id="py-trees-visitors"></span><h2>py_trees.visitors<a class="headerlink" href="#module-py_trees.visitors" title="Permalink to this headline">¶</a></h2>
<p>Visitors are entities that can be passed to a tree implementation
(e.g. <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>) and used to either visit
each and every behaviour in the tree, or visit behaviours as the tree is
traversed in an executing tick. At each behaviour, the visitor
runs its own method on the behaviour to do as it wishes - logging, introspecting).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Visitors should not modify the behaviours they visit.</p>
</div>
<dl class="class">
<dt id="py_trees.visitors.DebugVisitor">
<em class="property">class </em><code class="descclassname">py_trees.visitors.</code><code class="descname">DebugVisitor</code><a class="reference internal" href="_modules/py_trees/visitors.html#DebugVisitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.DebugVisitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.visitors.VisitorBase" title="py_trees.visitors.VisitorBase"><code class="xref py py-class docutils literal"><span class="pre">py_trees.visitors.VisitorBase</span></code></a></p>
<p>Picks up and logs feedback messages and the behaviour&#8217;s status. Logging is done with
the behaviour&#8217;s logger.</p>
</dd></dl>

<dl class="class">
<dt id="py_trees.visitors.SnapshotVisitor">
<em class="property">class </em><code class="descclassname">py_trees.visitors.</code><code class="descname">SnapshotVisitor</code><span class="sig-paren">(</span><em>full=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#SnapshotVisitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.SnapshotVisitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_trees.visitors.VisitorBase" title="py_trees.visitors.VisitorBase"><code class="xref py py-class docutils literal"><span class="pre">py_trees.visitors.VisitorBase</span></code></a></p>
<p>Visits the tree in tick-tock, recording runtime information for publishing
the information as a snapshot view of the tree after the iteration has
finished.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>full</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; flag to indicate whether it should be used to visit only traversed nodes or the entire tree</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> (<em>dict</em>) &#8211; dictionary of behaviour id (uuid.UUID) and status (<a class="reference internal" href="#py_trees.common.Status" title="py_trees.common.Status"><code class="xref py py-class docutils literal"><span class="pre">Status</span></code></a>) pairs</li>
<li><strong>running_nodes</strong> (<em>[uuid.UUID]</em>) &#8211; list of id&#8217;s for behaviours which were traversed in the current tick</li>
<li><strong>previously_running_nodes</strong> (<em>[uuid.UUID]</em>) &#8211; list of id&#8217;s for behaviours which were traversed in the last tick</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">This visitor is used with the <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a> class to collect
information and <a class="reference internal" href="#py_trees.display.ascii_tree" title="py_trees.display.ascii_tree"><code class="xref py py-func docutils literal"><span class="pre">ascii_tree()</span></code></a> to display information.</p>
</div>
<dl class="method">
<dt id="py_trees.visitors.SnapshotVisitor.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#SnapshotVisitor.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.SnapshotVisitor.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch running to previously running and then reset all other variables. This will
get called before a tree ticks.</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.visitors.SnapshotVisitor.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>behaviour</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#SnapshotVisitor.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.SnapshotVisitor.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This method gets run as each behaviour is ticked. Catch the id and status and store it.
Additionally add it to the running list if it is <a class="reference internal" href="#py_trees.common.Status.RUNNING" title="py_trees.common.Status.RUNNING"><code class="xref py py-data docutils literal"><span class="pre">RUNNING</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>behaviour</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; behaviour that is ticking</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="py_trees.visitors.VisitorBase">
<em class="property">class </em><code class="descclassname">py_trees.visitors.</code><code class="descname">VisitorBase</code><span class="sig-paren">(</span><em>full=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#VisitorBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.VisitorBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Parent template for visitor types.</p>
<p>Visitors are primarily designed to work with <a class="reference internal" href="#py_trees.trees.BehaviourTree" title="py_trees.trees.BehaviourTree"><code class="xref py py-class docutils literal"><span class="pre">BehaviourTree</span></code></a>
but they can be used in the same way for other tree custodian implementations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>full</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; flag to indicate whether it should be used to visit only traversed nodes or the entire tree</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><strong>full</strong> (<code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>) &#8211; flag to indicate whether it should be used to visit only traversed nodes or the entire tree</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py_trees.visitors.VisitorBase.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#VisitorBase.initialise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.VisitorBase.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this method if any resetting of variables needs to be
performed between ticks (i.e. visitations).</p>
</dd></dl>

<dl class="method">
<dt id="py_trees.visitors.VisitorBase.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>behaviour</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_trees/visitors.html#VisitorBase.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#py_trees.visitors.VisitorBase.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This method gets run as each behaviour is ticked. Override it to
perform some activity - e.g. introspect the behaviour
to store/process logging data for visualisations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>behaviour</strong> (<a class="reference internal" href="#py_trees.behaviour.Behaviour" title="py_trees.behaviour.Behaviour"><code class="xref py py-class docutils literal"><span class="pre">Behaviour</span></code></a>) &#8211; behaviour that is ticking</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="programs.html" class="btn btn-neutral" title="Programs" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>